# Get the list of staged files
FILES=$(git diff --cached --name-only)

# Filter the list to only include files with supported extensions
FILES=$(echo "$FILES" | grep -E '\.(js|jsx|ts|tsx|css|scss|html|json|md|mdx|yml|yaml)$')

# If there are no supported files, exit
if [ -z "$FILES" ]; then
    exit 0
fi

# Format files with Prettier
npx prettier --write $FILES

# Add files back to the staging area
git add $FILES

exit 0